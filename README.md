# GeoExplore-AI

> AI-powered geographic tour generation using LangChain and ArcGIS.

**This project is a work in progress.** Some features described below are partially implemented or still on the roadmap.

---

## What is this?

GeoExplore-AI is a conversational tour-planning app. You tell it what kind of experience you want — a historic walking tour, a food crawl, an architecture stroll — and it builds a personalized, route-optimized tour with real geographic data from ArcGIS and rich narratives generated by GPT-4o.

Currently supported cities: **New York City**, **San Francisco**, and **Boston**.

## How it works

1. **Chat** — You describe what you're looking for in natural language
2. **Understand** — A LangChain agent parses your intent (interests, number of stops, time constraints)
3. **Discover** — Points of interest are fetched from ArcGIS location services
4. **Route** — Stops are ordered into an optimized route via the Esri Routing API
5. **Narrate** — The LLM generates a short narrative with historical/cultural context for each stop

## Project structure

```
backend/
├── app/
│   ├── main.py              # FastAPI entry point
│   ├── config.py             # Settings via pydantic-settings / .env
│   ├── agents/
│   │   └── tour_agent.py     # LangChain agent pipeline
│   ├── api/
│   │   ├── chat.py           # POST /api/chat — conversational endpoint
│   │   ├── tours.py          # GET  /api/tours/templates — pre-built tours
│   │   ├── cities.py         # GET  /api/cities — supported cities
│   │   └── health.py         # GET  /health
│   ├── data/
│   │   └── cities.py         # City metadata (bounds, highlights, etc.)
│   ├── models/
│   │   └── schemas.py        # Shared Pydantic models
│   └── services/
│       ├── arcgis_service.py # ArcGIS geocoding & feature queries
│       ├── poi_service.py    # POI search & normalisation
│       ├── route_service.py  # Route optimisation via Esri
│       └── tour_templates.py # Pre-defined tour starting points
└── tests/
    └── test_api.py
```

## Getting started

### Prerequisites

- Python 3.11+
- An [OpenAI API key](https://platform.openai.com/)
- An [ArcGIS Developer API key](https://developers.arcgis.com/)

### Setup

```bash
# Clone the repo
git clone https://github.com/<your-username>/GeoExplore-AI.git
cd GeoExplore-AI

# Create a virtualenv and install dependencies
cd backend
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

Create a `.env` file in the project root:

```env
OPENAI_API_KEY=sk-...
ARCGIS_API_KEY=your-arcgis-key
```

### Run the backend

```bash
cd backend
uvicorn app.main:app --reload
```

The API will be available at `http://localhost:8000`. Hit `http://localhost:8000/health` to verify it's running.

### API overview

| Method | Path | Description |
|--------|------|-------------|
| `GET` | `/health` | Health check |
| `POST` | `/api/chat` | Send a message, get a tour + narrative back |
| `GET` | `/api/tours/templates` | List pre-built tour templates |
| `GET` | `/api/tours/templates/{id}` | Get a specific template |
| `GET` | `/api/cities` | List supported cities |

## Current status

- [x] FastAPI backend scaffolding
- [x] ArcGIS service integration (geocoding, feature queries, routing)
- [x] LangChain agent pipeline (intent → POIs → route → narrative)
- [x] Pre-built tour templates for NYC, SF, and Boston
- [x] Chat endpoint wired to the agent
- [ ] Frontend (React) — not started yet
- [ ] Persistent tour storage (SQLAlchemy models are stubbed but not wired up)
- [ ] User accounts & saved tours
- [ ] Real ArcGIS Places API calls in POI service (currently returns placeholder data)
- [ ] Tests — mostly scaffolded, need real coverage
- [ ] Deployment config

## Tech stack

| Layer | Tech |
|-------|------|
| API | FastAPI, Uvicorn |
| AI / LLM | LangChain, OpenAI GPT-4o |
| Geospatial | ArcGIS REST APIs, Geopy, Shapely |
| Data | SQLAlchemy, aiosqlite |
| HTTP | httpx |
| Config | pydantic-settings, python-dotenv |

## License

TBD
